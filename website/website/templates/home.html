{% extends 'base.html' %}


{% block title %} Login {% endblock %}

{% block main %}
<div class="container-fluid">
    <div class="row">
        <div class="col-lg-12 flash-msg">
                {% with messages = get_flashed_messages(with_categories = true) %}
                {% if messages %}
                {% for category, message in messages %}
                {% if category == 'success' %}
                <div class="alert alert-success alert-dismissible fade show" role="alert">
                    <p class="flash-msg1">{{message}}</p>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                {% else %}
                <div class="alert alert-warning alert-dismissible fade show" role="alert">
                    <p class="flash-msg1">{{message}}</p>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                {%  endif %}
                {% endfor%}
                {% endif %}
                {% endwith %}  
        </div>
    </div>
    <div class="row main-row">
      <div class="col-lg-8 main-text">
        {% if current_user.is_authenticated %}
        <h2>Hi {{ current_user.username }}</h2>
        {% endif %}
        <h1>Welcome to <br> AbhiBlogs</h3>
        <h3>Read blogs to know more</h3>
        </div>
    </div>
</div>
<div class="container-fluid">
    <div class="row main-home-second">
        <div class="col-lg-8 second-text">
            {% if posts %}
           {% for post in posts %}
           <a href="{{ url_for('show_post', post_id=post.id) }}">
           <h1>{{post.title}}</h1>
           <h5>Written by: {{post.author_name}} on {{post.date}}</h5></a>
           <hr>
           {% endfor %}
           {% endif %}
           {% if current_user.is_authenticated %}
           <a href="/post" class="btn btn-dark text-white">Read More Blogs</a>
           {% endif %}
        </div>            
    </div>
</div>
    <div class="container-fluid">
        <div class="row main-home-third">
                <div class="card">
                    <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                          <div class="carousel-item active">
                            <img src="static/images/abhishek.jpg" alt="...">
                            <div class="card-body">
                                <h2 class="card-title text-white">Abhishek Bhardwaj</h5>
                                <p class="card-text ">I am the one who designed and developed this website. Hope you like it.</p>
                                <a href="/post" class="btn btn-dark btn-outline-light">Read Blogs</a>
                              </div>
                          </div>
                          <div class="carousel-item">
                            <img src="static/images/vikas.jpg" alt="...">
                            <div class="card-body">
                                <h2 class="card-title text-white">Vikas Verma</h5>
                                <p class="card-text">He is the first member of this blogging website.</p>
                                <a href="/post" class="btn btn-dark btn-outline-light">Read Blogs</a>
                              </div>
                          </div>
                          <div class="carousel-item">
                            <img src="static/images/aman.jpg" alt="...">
                            <div class="card-body">
                                <h2 class="card-title text-white">Aman Verma</h5>
                                <p class="card-text">He is the second member of this blogging website.</p>
                                <a href="/post" class="btn btn-dark btn-outline-light">Read Blogs</a>
                              </div>
                          </div>
                        </div>
                      </div>                    
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                      </button>
                      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                      </button>
            </div>            
        </div>
        <div class="row footer">
            <div class="col-lg-8 second-text">
                <h3>All rights reserved to AbhiBlogs. Copyright @ 2022</h3>
            </div>            
        </div>
    </div>
</div>

{% endblock %}


